<!DOCTYPE html>
<html>
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.1/themes/prism.min.css" />
		<link rel="stylesheet" href="../../css/common.css">
	</head>
	<body>

<!-- nav -->
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-navbar">
	<a class="navbar-brand" href="/">GyuMin</a>
</nav>

<div class="container mt70">
	<div class="row">
		<div class="col-md-12">
			<h2>Javascript</h2>

		</div>		
	</div>

	<div class="row mt10">
		<div class="col-md-12">
			<h5>Closure</h5>

			<ul>
				<li>독립된 환경을 가진 함수의 영역을 의미한다.</li>
			</ul>
<h6>기본 클로저 예제</h6>
<pre>
<code class="language-javascript">
function fnOuter() {
	var val = 'GyuMin';
	function fnInner() {
		return val;
	}
	return fnInner;
}

var fnClosure = fnOuter();

console.log(fnClosure());	//GyuMin			
</code>
</pre>
<p>
위의 소스를 보면 fnInner함수에서 외부의 val의 값을 이용하게 된다.
이로인해 fnOuter()를 실행하여 fnInner함수를 리턴받으면 하나의 독립된 환경이 생성된다.
fnClosure에는 하나의 독립된 환경의 함수 영역을 가지고 있고 val의 값이 유지되어 있다.
fnClosure()를 실행하면 val값을 리턴한다.
</p>

<h6>반복문 클로저 예제</h6>
<pre>
<code class="language-javascript">
function fnTimeoutLoop() {
	for(var i=0; i<10; i++) {
  	setTimeout(function() {
    	console.log(i);
    }, 100);
  }
}

fnTimeoutLoop();	//10 10 10 10 10 10 10 10 10 10

function fnTimeoutClosureLoop() {
	for(var i=0; i<10; i++) {
  	(function(j) {
    	setTimeout(function() {
        console.log(j);
      }, 100);
    })(i);
  }
}

fnTimeoutClosureLoop();	//0 1 2 3 4 5 6 7 8 9
</code>
</pre>

<h6>카운터 클로저 예제</h6>
<pre>
<code class="language-javascript">
function fnCounter() {
	var value = 0;
  
	return {
		increase: function() {
			value++;
		}, decrease: function() {
			value--;
		}, getValue: function() {
			return value;
		}
	}
}

var counter = fnCounter();

console.log(counter.getValue());
counter.increase();	//1
console.log(counter.getValue());
</code>
</pre>

		</div>
	</div>

	<div class="row mt10">
		<div class="col-md-12 text-right">
			<a class="btn btn-dark" href="#" role="button" onclick="history.back();"> Prev </a>
		</div>
	</div>
	
	<hr>

	<footer>
		<p>&copy; Copyright GyuMin</p>
	</footer>
</div> <!-- /container -->

		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.1/prism.min.js"></script>
		<script src="../../script/common.js"></script>
	</body>
</html>
